const express = require('express');
const app = express();

const prefix = "g!"

const footer = "Creator: Dr. Jegesmedve\nv2.0.0"

const fejlesztes = "Figyelem! Ez a funkci√≥ jelenleg fejleszt√©s alatt √°ll!"

app.get('/', (req, res) => {
	res.send(
		"A V√°laszBot m≈±k√∂dik!"
	);
});

app.listen(3000, () => {
	console.log(
		"A BOT kiv√°l√≥an m≈±k√∂dik! De az√©rt ne felejtsd el megn√©zni az Uptime Robotot sem! Plusz teszteld a szerveren!"
	);
});

const Discord = require("discord.js");
const client = new Discord.Client({intents: ["GUILDS", "GUILD_MESSAGES"]});

client.on("ready", () => {
	client.user.setActivity("Szerver", { type: "WATCHING" });
});

client.on("message", message => {
  if (message.content === prefix + "help") {
    let embed = new Discord.MessageEmbed()
       .setTitle("GamEngine HELP")
       .setDescription("Ez a GamEngine Discord szerver BOT-j√°nak a HELP men√ºje.\nItt tal√°lhat√≥ a szerveren el√©rhet≈ë BOT-ok √∫tmutat√≥ja.\n\n**Prefix:**`g!`\n\n**√ötmutat√≥k**\n - `help botmodi` Botmodi √∫tmutat√≥k.\n - `help serverradio` Szerverr√°di√≥ √∫tmutat√≥.\n - `help covid` Dr. Korona √∫tmutat√≥.\n - `help math` Dr. Matek √∫tmutat√≥.\n - `help freegames` Ingyenes Vide√≥j√°t√©kok √∫tmutat√≥.\n - `help reactionroles` Reakci√≥-rangok √∫tmutat√≥.\n - `help welcome` √údv√∂zl≈ë √∫tmutat√≥.\n\n**Egy√©b parancsok**\n - `info` Ha valami nem m≈±k√∂dne...")
        .setColor("GREY")
        .setFooter(footer);
    message.channel.send( {embeds : [ embed ] } );
  }

  if (message.content === prefix + "help botmodi") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Botmodi √∫tmutat√≥")
			.setDescription("A szerver els≈ësz√°m√∫ BOT-ja.\n Mivel a m≈±k√∂d√©se viszonylag komlex,\nez√©rt h√°rom r√©szre bontottuk.\n\n - `help general` √Åltal√°nos parancsok.\n - `help points` Pontoz√°s, pontrendszer m≈±k√∂d√©se.\n - `help moderation` Moder√°ci√≥s parancsok.")
			.setColor("PURPLE")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

	if (message.content === prefix + "help general") {
		let embed = new Discord.MessageEmbed()
			.setTitle("√Åltal√°nos parancsok")
			.setDescription("**√Åltal√°nos parancsok**\nFontos, hogy a `<>` k√∂telez≈ë, a `[]` viszont nem.\n\n**Prefix:** `bm!`\n\n - `profile [@Tag]` Megmutatja egy tag profilk√°rty√°j√°t.\n - `user [@Tag]` Megmutatja egy tag adatait.\n - `avatar [@Tag]` Megmutatja egy tag profilk√©p√©t.\n - `server` Adatokat mutat meg a szerverr≈ël.\n - `roles` List√°zza a szerver rangjait.\n - `short <URL>` R√∂vid√≠t egy URL-t.\n - `ping` Teszteli BOT visszajelz√©si idej√©t.")
			.setColor("PURPLE")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "help points") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Pontoz√°s, pontrendszer m≈±k√∂d√©se")
			.setDescription("**Pontoz√°s, pontrendszer m≈±k√∂d√©se**\nA szerveren a moder√°torok √©s az adminok pontokkal jutalmazhatj√°k a tagokat.\nSz√ºks√©g eset√©n a pontokb√≥l le is lehet vonni!\n\n**Mire lehet pontot adni?**\n**Pozit√≠v pontok:**\n - Ha egy tag illedelmesen viselkedik t√°rsaival hossz√∫t√°von. (*1 Pont*)\n - Ha egy tag seg√≠t egy m√°sik tagot. (*3 Pont*)\n - Ha egy tag seg√≠ti a moder√°torok/adminok munk√°j√°t. (*Nagys√°gt√≥l f√ºgg≈ëen 5-10 Pont.*)\n\n**Negat√≠v pontok:**\n - Ha egy tag megszegi a szab√°lyzat b√°rmely pontj√°t. (*Nagys√°gt√≥l f√ºgg≈ëen 1-25 Pont vonhat√≥ le.*)\n\n\n**A pontoz√°s parancsai:**\n - `help pointscomms` Pontoz√°s parancsai.")
			.setColor("PURPLE")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "help pointscomms") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Pontoz√°s parancsai")
			.setDescription("**Pontoz√°s parancsai**\nFontos, hogy a `<>` k√∂telez≈ë, a `[]` viszont nem.\n\n**Prefix:** `bm!`\n\n - `top` megmutatja a legt√∂bb ponttal rendelkez≈ë tagokat.\n - `points <@Tag>` megmutatja egy tag pointjait.\n - `points <@Tag> +/- <sz√°m>` Ad/elvesz egy adott mennyis√©g≈± pontot egy tagt√≥l.\n - `points <@Tag> 0` Vissza√°ll√≠tja, reseteli egy tag pontjait.\n - `points reset` Vissza√°ll√≠tja, reseteli az √∂sszes tag pontjait. **Csak a tulajdonos haszn√°lhatja!**")
			.setColor("PURPLE")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "help moderation") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Moder√°ci√≥")
			.setDescription("**Moder√°ci√≥**\nA moder√°ci√≥s parancsok k√∂z√© tartoznak az √°ltal√°nos moder√°ci√≥s parancsok,\nmint p√©ld√°ul a mute, stb. √©s a figyelmeztet√©s parancsok, ami a pontok szinte ellent√©te.\nFontos, hogy a `<>` k√∂telez≈ë, a `[]` viszont nem.\n\n**Prefix:** `bm!`\n\n**√Åltal√°nos moder√°ci√≥**\n - `mute <@Tag> <Id≈ë>` N√©m√≠t egy tagod egy adott id≈ëre. (10m VAGY 1h)\n - `unmute <@Tag>` Feloldja egy tag n√©m√≠t√°s√°t.\n\n**Figyelmeztet√©s parancsok**\n - `warn <@Tag> <Indok>` Figyelmeztet egy tagot. (Szinte b√°rmilyen elfogadhat√≥ indokot toler√°lunk.)\n - `rwarn <@Tag>` T√∂rli egy tag √∂sszes figyelmeztet√©s√©t.\n - `rwarn <ID>` T√∂r√∂l egy konkr√©t figyelmeztet√©s ID alapj√°n.\n - `warnlist` List√°zza az √∂sszes figyelmeztet√©st √©s ki√≠rja a figyelmezte√©sek ID-j√°t.")
			.setColor("PURPLE")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}  //Itt kell m√©g dolgozni!

  if (message.content === prefix + "help serverradio") {
		let embed = new Discord.MessageEmbed()
			.setTitle(fejlesztes)
			.setDescription("")
			.setColor("DARK_PURPLE")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "help covid") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Dr. Korona √∫tmutat√≥")
			.setDescription("A szerveren ez a BOT a COVID-19 okozta pand√©mia aktu√°lis t√°j√©koztat√≥jak√©nt szolg√°l.\nFontos, hogy a BOT az angol nyelvet r√©szes√≠ti el≈ënyben.\n\n**Prefix:**`c?`\n\n**Parancsok**\n - `information` √Åltal√°nos inform√°ci√≥k.\n - `world` Sz√°madatok a vil√°gon.\n - `country <orsz√°g>` Sz√°madatok egy orsz√°gban. (Angolul kell be√≠rni az orsz√°got!)\n - `prevention` Megel≈ëz√©s.\n - `symptoms` T√ºnetek.\n - `donate` Az Eg√©szs√©g√ºgi Vil√°gszervezet (**W**orld **H**ealth **O**rganisation) t√°mogat√°sa.")
			.setColor("RED")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "help math") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Dr. Matek √∫tmutat√≥")
			.setDescription("A szerveren ez a BOT okos sz√°mol√≥g√©pk√©nt funkci√≥n√°l.\nAz #üìèokos-sz√°mol√≥g√©p csatorn√°ban tal√°lhat√≥ hozz√° egy √°tfog√≥ le√≠r√°s.")
			.setColor("NAVY")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "help freegames") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Ingyenes Vide√≥j√°t√©kok √∫tmutat√≥")
			.setDescription("A szerveren ez a BOT az ingyenes vide√≥j√°t√©kokr√≥l sz√≥l√≥ √©rtes√≠t√©seket k√ºldi.\n Jelenleg nem kell vele foglalkozi.")
			.setColor("GRAY")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "help reactionroles") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Reakci√≥-rangok √∫tmutat√≥")
			.setDescription("A szerveren ez a BOT a reakci√≥-rangokat m≈±k√∂dteti.\n Jelenleg nem kell vele foglalkozi.")
			.setColor("YELLOW")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "help welcome") {
		let embed = new Discord.MessageEmbed()
			.setTitle("√údv√∂zl≈ë √∫tmutat√≥")
			.setDescription("A szerveren ez a BOT az √ºdv√∂zl≈ë √ºzeneteket k√ºldi.\n Jelenleg nem kell vele foglalkozi.")
			.setColor("PURPLE")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "info") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Inform√°ci√≥k & Seg√≠ts√©g") //Fejleszt√©s alatt
			.setDescription("Ha valamit nem √©rte √©l √©s/vagy valami nem m≈±k√∂dne,\n akkor")
      .setColor("BLUE")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

	if (message.content === "Ping") {
		message.channel.send("Pong");
	}

	if (message.content === "Mikor ny√≠lik meg a szerver?") {
		message.channel.send("Titok üòâ");
	}
	
	if (message.content === prefix + "rules1") {
	  let embed = new Discord.MessageEmbed()
	  .setTitle("Szab√°lyzat 1.r√©sz")
	  .setDescription("**√Åltal√°nos szab√°lyok:**\n\n1.: **K√°romkod√°s, tr√°g√°r nyelvezet**\n   1.1.: A k√°romkod√°st a szerver moder√°torai igen szigor√∫an kezelik. Els≈ë h√°rom alkalommal figyelmeztetnek, √©s t√∂rlik az √ºzenetet. Majd, a negyedik alkalommal jelzik ezt egy Adminnak, aki k√°romkod√°s indokkal kidobja a szerverr≈ël az illet≈ët.\n¬†¬† 1.2.: Amennyiben elfogadhat√≥ m√©rt√©k≈±nek √©s odaill≈ënek √≠t√©li meg egy moder√°tor rang√∫, nem j√°r figyelmeztet√©s. \n2.: **Politiz√°l√°s**\n¬†¬† 2.1.: B√°rmilyen k√∂r√ºlm√©nyek k√∂z√∂tt fordul el≈ë, b√°rmekkora m√©rt√©kben, t√∂rl√©sre ker√ºl. Ezut√°n 10 perces n√©m√≠t√°st √©s egy Politiz√°l√°s indok√∫ figyelmeztet√©st kap a szem√©ly. Ha m√°sodj√°ra is el≈ëfordul, akkor egy Admin t√°vol√≠tja el az illet≈ët a szerverr≈ël.\n3.: **Diszkrimin√°ci√≥**\n¬†¬† 3.1.: A diszkrimin√°ci√≥ √∂sszes t√≠pus√°t rendk√≠v√ºli m√≥don megtoroljuk. Azonnali kidob√°s, illetve s√∫lyos esetben tilt√°ssal is j√°rhat.\n¬†¬† 3.2.: Diszkrimin√°ci√≥nak sz√°m√≠t, a nemi, faji, sz√°rmaz√°si, vall√°si √©s minden egy√©b megk√ºl√∂nb√∂ztet√©s.\n4.: **Szem√©lyi jogi s√©rt√©s**\n¬†¬† 4.1.: A szerveren egyik csatorn√°ra se k√ºldj olyan k√©pet, vide√≥t vagy f√°jlt, melyr≈ël a rajta szerepl≈ë ember nem √©rtes√ºlt megfelel≈ëen √©s nem egyezett bele! Ha ilyen eset a tudom√°sunkra jut, akkor a bek√ºld≈ë azonnali tilt√°s√°ra √©s a f√°jl t√∂rl√©s√©re ker√ºl sor.\n¬†¬† 4.2.: Senkir≈ël, m√©g ismeretlen√ºl se k√ºldj olyan k√©pet, vide√≥t vagy f√°jlt, ami a k√©s≈ëbbiekben h√°tr√°nyosan √©rintheti ≈ët. M√©g akkor sem, ha a rajta szerepl≈ë szem√©ly(ek) ebbe beleegyeztek.\n¬†¬† 4.3.: Semmilyen k√©pet ne ments le, ha a 4.1 √©s/vagy a 4.2 pontban foglaltak gyan√∫ja √°ll fent!\n¬†¬† 4.4.: A szerver csatorn√°ir√≥l vide√≥t k√©sz√≠teni nem tilos. Ha azonban publik√°lni szeretn√©d, akkor err≈ël k√©rdezd meg a felv√©telen szerepl≈ë szem√©lyek v√©lem√©ny√©t. Amennyiben egyetlen szerepl≈ë nem j√°rul csak hozz√° ehhez, akkor sem teheted k√∂zz√© a vide√≥t!")
    .setColor("GOLD")
    .setFooter(footer);
  message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "rules2") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Szab√°lyzat 2.r√©sz")
			.setDescription(".: **Illeg√°lis tartalmak, szexualit√°s √©s k√°ros szenved√©lyek**\n¬†¬† 5.1.: Illeg√°lis tartalmak b√°rmely megjelen√©se a szerveren azonnali tilt√°ssal √©s a tartalom t√∂rl√©s√©vel j√°r.\n¬†¬† 5.2.: Szexu√°lis tartalom b√°rmely megjelen√©se a szerveren figyelmeztet√©ssel √©s a tartalom t√∂rl√©s√©vel, majd a m√°sodik alkalommal kidob√°ssal j√°r.\n¬†¬† 5.3.: Azonnali t√∂rl√©sre ker√ºl minden f√ºgg≈ës√©get okoz√≥ √©s vagy k√°ros anyag haszn√°lat√°ra t√∂rt√©n≈ë buzd√≠t√°s. Emellett a tev√©kenys√©g terjeszt≈ëje ki lesz tiltva a szerverr≈ël.\n¬†¬† 5.4.: B√°rmely jelleg≈± drog terjeszt√©se szigor√∫an TILOS! Amennyiben B√°rki hasonl√≥r√≥l tudom√°st szerez, k√©rj√ºk, a lehet≈ë leghamarabb jelezze az Adminoknak!\n6.: **Kereskedelem**\n¬†¬† 6.1.: A kereskedelem k√ºl√∂nb√∂z≈ë form√°i k√∂z√ºl egyetlen sem enged√©lyezett, figyelmeztet√©st von maga ut√°n.\n¬†¬† 6.2.: Amennyiben m√©gis siker√ºl tal√°lni valakit, aki nyitott az √ºzletre, akkor priv√°t √ºzenetben besz√©lj√©tek meg a r√©szleteket!\n7.: **K√°rt√©kony f√°jlok/programok**\n¬†¬† 7.1.: V√≠rusok, v√≠rus(oka)t √©s egy√©b k√°rt√©kony f√°jlok k√ºld√©se TILOS! Ak√°r v√©gleges kitilt√°ssal is j√°rhat!\n¬†¬† 7.2.: Ismerten fert≈ëz√∂tt programok aj√°nl√°sa eset√©n figyelmeztet√ºnk, majd 2. alkalommal kidob√°ssal j√°r.\n¬†¬† 7.3.: Ha √°ltalad fejlesztett programot szeretn√©l n√©pszer≈±s√≠teni, akkor k√©rj√ºk, hogy egy vezet≈ës√©gi tagnak (F≈ë-Admin, Tulaj-helyettes, Tulajdonos) k√ºldd el a program forr√°sk√≥dj√°t! Erre biztons√°gi okokb√≥l van sz√ºks√©g.\n8.: **BOT-ok**\n¬†¬† 8.1.: A BOT-okat extr√©m terhel√©snek kitenni TILOS! Ugyanis nem csak a szervernek, hanem az √∂sszes haszn√°l√≥j√°nak √°rtasz a vil√°gon.")
			.setColor("GOLD")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

  if (message.content === prefix + "rules3") {
		let embed = new Discord.MessageEmbed()
			.setTitle("Szab√°lyzat 3.r√©sz")
			.setDescription( "**Sz√∂veges csatorn√°kra jellemz≈ë szab√°lyok:**\n1.: Az √∂sszes √°ltal√°nos szab√°ly jellemz≈ë.\n\n**Hangcsatorn√°kra¬† jellemz≈ë szab√°lyok:**\n1.: Az √∂sszes √°ltal√°nos szab√°ly jellemz≈ë.\n2.: **Egy√©b**\n   2.1.: A hangcsatorn√°kban a magasabb rang√∫ak szav√°ba belesz√≥lni TILOS! Figyelmeztet√©ssel j√°r.\n   2.2.: Amennyiben lehets√©ges pr√≥b√°ld a\nlehet≈ë legkisebbre cs√∂kkenteni a zajokat.\n   2.3.: Tartsd tiszteletben a t√∂bbieket!\n\n**Rang szab√°lyok:**\n1.: **Vissza√©l√©s**\n¬†¬† 1.1.: A k√ºl√∂nb√∂z≈ë rangokn√°l k√ºl√∂nb√∂z≈ë m√≥dokon lehet vissza√©lni. Ha b√°rki ezt kihaszn√°lja, a rang elv√©tel√©vel j√°r! Sz√©ls≈ës√©ges esetben az illet≈ë kidob√°sra ker√ºl.\n\n**Egy√©b szab√°lyok:**\n1.: **Spam**\n¬†¬† 1.1.: A spam ker√ºlend≈ë, ugyanis figyelmeztet√©seket lehet √©rte kapni.\n2.: **H√≠rdet√©s/prom√≥ci√≥**\n¬†¬† 2.1.: YouTube vagy m√°s csatorna h√≠rdet√©se enged√©lyhez k√∂t√∂tt. Enged√©lyt a k√©rd√©sek csatorn√°ban lehet ig√©nyelni.\n3.: **Betar√°s √©s v√©grehajt√°s**\n¬†¬† 3.1.: A szab√°lyokat k√∂telez≈ë betartani, csup√°n n√©h√°ny, k√ºl√∂nleges esem√©ny miatt tekintet√ºnk el t≈ël√ºk.\n¬†¬† 3.2.: Ha b√°rki √©szleli, hogy valaki a szab√°lyzat egy s√∫lyos pontj√°t szegi meg, akkor azonnal jelentenie kell a vezet≈ës√©gnek! Ha viszont egy kisebb szab√°lyszeg√©s t√∂rt√©nik, akkor a moder√°tornak kell jelezni.\n¬†¬† 3.3.: A szab√°lyok nem ismerete nem mentes√≠t a k√∂vetkezm√©nyek al√≥l szab√°lys√©rt√©skor.")
			.setColor("GOLD")
			.setFooter(footer);
		message.channel.send( {embeds : [ embed ] } );
	}

});

client.login(process.env.token);
